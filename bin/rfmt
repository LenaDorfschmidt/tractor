#! /usr/bin/env ruby

LINE_LIMIT=ARGV[0].to_i
$\=nil

text = STDIN.read
text.split("\n").each do |line|
  length = 0
  line.split(/\s/).each do |word|
    if length + word.length < LINE_LIMIT
      STDOUT.write word+" "
      length += word.length+1
    else
      STDOUT.write "\n"+word+" "
      length = word.length+1
    end
  end
  STDOUT.write "\n"
end
